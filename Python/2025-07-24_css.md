# CSSã‚’å®Ÿè£…

## âœ… è¡Œã£ãŸã“ã¨

- Djangoã®CSSã«ã¤ã„ã¦èª¿ã¹ã¦å®Ÿè£…ã—ã¦ã¿ãŸ

## æ‰‹é †

- **setting.pyã®ç·¨é›†**

  setting.pyã®æœ€ä¸‹éƒ¨ã«ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’è¨˜è¿°
  ```
  # ä¸Šéƒ¨çœç•¥

  # Static files (CSS, JavaScript, Images)
  # https://docs.djangoproject.com/en/3.0/howto/static-files/

  STATIC_URL = '/static/'

  STATICFILES_DIRS = (
      [
          os.path.join(BASE_DIR, "static"), 
      ]
  )
  ```

- **CSSãƒ•ã‚¡ã‚¤ãƒ«ã®è¿½åŠ **

  staticãƒ•ã‚©ãƒ«ãƒ€ã‚’è¿½åŠ ã—ã€ä¸‹è¨˜ã®ã‚ˆã†ãªæ§‹æˆã«ã™ã‚‹
  ```
  | - webproject
  | | - setting.py
  | | - urls.py
  | - webapp
  | | - urls.py
  | | - views.py
  | - templates
  | | - form.html
  | - static
  | | - css
  | | | - style.css
  |manage.py
  ```

  ã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã§ã¯
  ```
  |my_project
  | - sample_app
  | | - static
  | | | - css
  | | | | - style.css
  ```
  ã“ã®ã‚ˆã†ã«è¿½åŠ 

- **HTMLãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†**

æœ€ä¸Šéƒ¨ã«{% load static %}ã‚’è¿½è¨˜
```
{% load static %} 
<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" /> 
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>WebApp</title>
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
  </head>
  <body>
    <p>Hello World!</p>
  </body>
</html>
```
ã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªã§ã®å®Ÿè£…(my_project/sample_app/templates/sample_app/post_list.html)
```
{% load static %}  # è¿½åŠ 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Post lists</title>
</head>
<body>
  <p>ãƒã‚¹ãƒˆãƒªã‚¹ãƒˆ</p>  # è¿½åŠ 
  <table>
    <thead>
      <tr>
```

- **CSSãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†**
åæ˜ ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª
ä»¥ä¸‹ã‚’my_project/sample_app/static/css/style.cssã«è¿½è¨˜
```
p {
  color: blue;
}
```

ã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•
```
python manage.py runserver
```

**â—ï¸ã‚¨ãƒ©ãƒ¼ã®ç™ºç”Ÿ**
```
tokunaganaoya@tokunaganaoyanoMacBook-Pro my_project % python manage.py runserver
Traceback (most recent call last):
  File "/Users/tokunaganaoya/my_project/manage.py", line 22, in <module>
    main()
  File "/Users/tokunaganaoya/my_project/manage.py", line 18, in main
    execute_from_command_line(sys.argv)
  File "/Users/tokunaganaoya/.pyenv/versions/3.10.4/lib/python3.10/site-packages/django/core/management/__init__.py", line 442, in execute_from_command_line
    utility.execute()
  File "/Users/tokunaganaoya/.pyenv/versions/3.10.4/lib/python3.10/site-packages/django/core/management/__init__.py", line 382, in execute
    settings.INSTALLED_APPS
  File "/Users/tokunaganaoya/.pyenv/versions/3.10.4/lib/python3.10/site-packages/django/conf/__init__.py", line 81, in __getattr__
    self._setup(name)
  File "/Users/tokunaganaoya/.pyenv/versions/3.10.4/lib/python3.10/site-packages/django/conf/__init__.py", line 68, in _setup
    self._wrapped = Settings(settings_module)
  File "/Users/tokunaganaoya/.pyenv/versions/3.10.4/lib/python3.10/site-packages/django/conf/__init__.py", line 166, in __init__
    mod = importlib.import_module(self.SETTINGS_MODULE)
  File "/Users/tokunaganaoya/.pyenv/versions/3.10.4/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 883, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/Users/tokunaganaoya/my_project/my_project/settings.py", line 122, in <module>
    os.path.join(BASE_DIR, "static"), 
NameError: name 'os' is not defined
```

**ã‚¨ãƒ©ãƒ¼å†…å®¹ã®è§£èª¬**
```
NameError: name 'os' is not defined
```
ã“ã‚Œã¯ã€Œos ã¨ã„ã†åå‰ãŒæœªå®šç¾©ã§ã™ã‚ˆã€ã¨ Django ãŒæ€’ã£ã¦ã¾ã™ã€‚(GPT)

**âœ…åŸå› **
```
os.path.join(BASE_DIR, "static")
```
settings.py ã®ä¸­ã®ã€os.path.join() ã¨ã„ã†ãƒ‘ã‚¹æ“ä½œç”¨ã®é–¢æ•°ã§ã™ãŒã€ãã®å‰ã« import os ãŒã•ã‚Œã¦ã„ãªã„ã¨ã“ã®ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚

**ğŸ”§è§£æ±ºæ–¹æ³•**
my_project/settings.py ã®å…ˆé ­ã‚ãŸã‚Šã« æ¬¡ã®ä¸€è¡Œã‚’è¿½åŠ 
```
import os
```

**ğŸ§  è£œè¶³ï¼šãªãœ os ãŒå¿…è¦ï¼Ÿ**
Djangoã§ã¯ BASE_DIR ã‚„ STATICFILES_DIRS ã‚’æ‰±ã†ã¨ãã«ã‚ˆã os.path.join() ã‚’ä½¿ã£ã¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ‘ã‚¹ã‚’å®‰å…¨ã«çµ„ã¿ç«‹ã¦ã¾ã™ã€‚
```
BASE_DIR = Path(__file__).resolve().parent.parent

STATICFILES_DIRS = [
    os.path.join(BASE_DIR, 'static'),
]
```
ã“ã†ã„ã†è¨˜è¿°ã‚’ã™ã‚‹ã¨ã€DjangoãŒ static/ ãƒ•ã‚©ãƒ«ãƒ€ã‚’æ­£ã—ãèªè­˜ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>

**â—ï¸ä¿®æ­£ã—ãŸãŒã€è‰²ãŒåæ˜ ã•ã‚Œãªã„**<br>
[![Image from Gyazo](https://i.gyazo.com/68fa552124c1dc41621734e45dccefe8.png)](https://gyazo.com/68fa552124c1dc41621734e45dccefe8)

è¦‹æœ¬ã¨è¦‹æ¯”ã¹ã¦ã¿ãŸã‚‰ã€ä»¥ä¸‹ã®è¨˜è¿°ãŒãªã„ã‹ã‚‰åæ˜ ã•ã‚Œãªã„ã¨äºˆæƒ³
```
<link href="{% static 'css/style.css' %}" rel="stylesheet">
```
è¿½è¨˜ã—ã¦ã¿ãŸ<br>
my_project/sample_app/templates/sample_app/post_list.html
```
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Post lists</title>
    <link href="{% static 'css/style.css' %}" rel="stylesheet">  # è¿½åŠ 
</head>
<body>
  <p>ãƒã‚¹ãƒˆãƒªã‚¹ãƒˆ</p>
  <table>
    <thead>
      <tr>
```
è‰²ãŒã¤ã„ãŸï¼<br>
[![Image from Gyazo](https://i.gyazo.com/96d6e9011101286ec5b3d70d1ee964d7.png)](https://gyazo.com/96d6e9011101286ec5b3d70d1ee964d7)

## å‚è€ƒã‚µã‚¤ãƒˆ
[1](https://qiita.com/chisaki0606/items/8e46f7c0052d6d3c6040)